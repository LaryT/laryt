<?xml version="1.0" encoding="UTF-8" ?>
<Module>
    <ModulePrefs title="__UP_my_name__" height="500" title_url="http://www.grbasket.gr" description="News |::| Display news in your blog or website " author="LaryT" author_email="terzisla@gmail.com" author_photo="https://lh5.googleusercontent.com/-fV5npoSYg1s/AAAAAAAAAAI/AAAAAAAAAAA/GuOR42Cme4M/s320/terzisla.jpg" author_link="http://www.grbasket.gr" author_aboutme="I am a webdeveloper and software programmer. Programming and scripting takes a huge part of my life routine. Every time I feel the passion to start a new creation. I work very hard with my favorite programming languages." screenshot="https://lh6.googleusercontent.com/-OoLL6ZaQcn8/T4d8WMgecTI/AAAAAAAAjxQ/qSig_Taj7NA/s275/centralTitlesLogo.png" thumbnail="https://lh6.googleusercontent.com/-OoLL6ZaQcn8/T4d8WMgecTI/AAAAAAAAjxQ/qSig_Taj7NA/s125/centralTitlesLogo.png" category="sport" category2="news" > 
    <Require feature="setprefs" />    
  </ModulePrefs>
  <UserPref name="my_name" display_name="Name" default_value="All Div Titles with Img" />

  <UserPref name="my_StrFeed" display_name="Feed,RSS:" default_value="" />    
  <UserPref name="my_ColorTitle" display_name="Color:" default_value="#BC0202" />
  <UserPref name="my_StrTitle" display_name="Title :" default_value="NEWS" />
  <UserPref name="my_StrWidth" display_name="Width:" default_value="300" />  
  <UserPref name="my_PosoiTitloi" display_name="Number of Title:" default_value="3" />
  <UserPref name="my_BgColorTitle" display_name="Bg Title Color:" default_value="#F8F8F8" />
 
<Content type="html">
<![CDATA[
    
<style>   
.divImg{
//  width: 60px;
  float: left;
}
.myImg{
    border-bottom:2px solid #cccccc;
    border-right:2px solid #cccccc;
    height:40px;
    margin-top:2px;
    margin-left:2px;
    margin-right:5px;
    padding-bottom:1px;
    padding-right:1px;
    width:50px;
}
.mytdFirst{
   background-color:#f6f6f6;
   border-bottom:1px solid #cccccc;
   overflow: hidden;
   padding-bottom:5px;
}
.myImgFirst{
    height:90px;
    margin-top:2px;
    margin-left:2px;
    padding-bottom:1px;
    padding-right:1px;
    width:120px;
    float:right;
}

.bigTitle{
    background-color:#f6f6f6;
    color:#BC0202;
    font-size: 18px; 
    font-weight: bold;
    margin: 0; 
    padding-bottom: 10px; 
    padding-left:10px;
    padding-top: 10px; 
    text-align:left;    
}
.divRowWrap{
  border-bottom: 1px dashed #f1f1f1;
  height:50px;
  overflow:hidden;
}
.ns2-title, .ns2-titleFirst {
    font-size: 10px; 
    font-weight: bold;
    margin: 0; 
    padding-top:5px;
    padding-bottom: 1px; 
    padding-left:1px;
    text-align:left;
 }
.ns2-titleFirst {

    padding-top: 20px;
    font-size: 16px; 
}
.ns2-title a, .ns2-titleFirst a{
    color:#BC0202;
    text-decoration:none;
}
.ns2-title a:hover, .ns2-titleFirst a:hover{
    color:#000000;
}
.strDateMonth{    
     color:#333333;
     font-size: 10px;
     font-weight: bold;
}
  
</style>   
     
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" ></script>      
    <script type="text/javascript">
      google.load("feeds", "1");
    </script>


     <script type="text/javascript">
      var prefs = new gadgets.Prefs();
      
      var myColorTitle = prefs.getString("my_ColorTitle");
      var myStrTitle = prefs.getString("my_StrTitle");
      var myStrWidth = prefs.getString("my_StrWidth");
      var myStrFeed = prefs.getString("my_StrFeed");    
      var myPosoiTitloi = prefs.getString("my_PosoiTitloi"); 

      var myBgColorTitle = prefs.getString("my_BgColorTitle"); 
    
      
      
        

function init() {
  if(myStrFeed!= ''){ 
    var feed = new google.feeds.Feed(myStrFeed);
  }else{
    var feed = new google.feeds.Feed("https://picasaweb.google.com/data/feed/api/user/105531333335129547555?kind=photo&max-results=10");
  }
  
//  feed.setResultFormat(google.feeds.Feed.XML_FORMAT);
  feed.setResultFormat(google.feeds.Feed.MIXED_FORMAT);
  if(myPosoiTitloi !=''){
    feed.setNumEntries(myPosoiTitloi);
  }else{
    feed.setNumEntries(6);
  }
  
  feed.load( function(result) {
      if (!result.error) {
        var content = document.getElementById('content');
        content.innerHTML = '';
        
        var html =[];
        var strMIExplorer = false;
        if(navigator.appName =='Microsoft Internet Explorer'){
        
            strMIExplorer = true;
        }
         alert (' ... 1 xml.');
        // --  var items = result.xmlDocument.getElementsByTagName('entry');
        var items = result.xmlDocument.getElementsByTagName('item');
        
         alert (' after items = result.xmlDocument.getElementsByTagName(');        
        
        html.push('<div id="myFiDiv" width="300"><div id="myTable" width="300">');
        html.push('<div>');
        html.push('<div>');
        html.push('<div id="bigTitleID" class="bigTitle"> Women </div>'); 
        html.push('</div>');
        html.push('</div>');
        
        var item = items[0];
        var myPdate = item.getElementsByTagName('pubDate')[0].firstChild.nodeValue;
        //------  xxx date
        var strPubDate ="";
         alert (' 2.');
/*        
        var entry = result.feed.items[0];
        var myPubDate = new Date(entry.publishedDate);        
        
        
          if(myPubDate.getDate()<10){
            strPubDate = "0"+myPubDate.getDate()+".";
          }else{
            strPubDate = myPubDate.getDate()+".";
          }
          if( (myPubDate.getMonth()+1) <10 ) {
             strPubDate = strPubDate+"0"+ (myPubDate.getMonth()+1);
          }else{
             strPubDate = strPubDate +(myPubDate.getMonth()+1);
          }   
  */        
        //--------
      var myLink = item.getElementsByTagName('link')[0].getAttributeNode('href').nodeValue;
      var myTitle = item.getElementsByTagName('title')[0].firstChild.nodeValue;
      var imgUrl='';
      
      imgUrl = item.getElementsByTagName('enclosure')[0].getAttributeNode('url').nodeValue;
      
      //---------------- se sxolia giati yparxei allos tropos na pareis to url
/*         
      if(strMIExplorer){
          imgUrl= item.getElementsByTagName('content')[0].firstChild.nodeValue.match(/img src=\"([^"]*)\"/i);
      }else{
          imgUrl= item.getElementsByTagNameNS('http://search.yahoo.com/mrss/', 'thumbnail')[0].getAttributeNode('url').nodeValue;
      }
*/      
      
      
      html.push('<div class="mytdFirst">');
/*      
      if(strMIExplorer){
        html.push('<div class="divImgFirst"><'+ imgUrl + '" class="myImgFirst" /></div>');
      }else{
        html.push('<div class="divImgFirst"><img class="myImgFirst" src="'+ imgUrl + '" /></div>');
      }      
*/      
      html.push('<div class="divImgFirst"><img class="myImgFirst" src="'+ imgUrl + '" /></div>');
        
      html.push('<div class="ns2-titleFirst"><a target="_blank" href="'+myLink+'">'+myTitle+'</a><span class="strDateMonth"> ('+ strPubDate +')</span> </div>');   
      html.push('</div>');    

    html.push('<div>');    
    for (var i = 1; i < items.length; i++) {
      var item = items[i];
      var myPdate = item.getElementsByTagName('pubDate')[0].firstChild.nodeValue;
        
        //------  xxx date
         var strPubDate ="";
         /*
         entry = result.feed.entries[i]; 
         myPubDate = new Date(entry.publishedDate);        

          
          if(myPubDate.getDate()<10){
            strPubDate = "0"+myPubDate.getDate()+".";
          }else{
            strPubDate = myPubDate.getDate()+".";
          }
          if( (myPubDate.getMonth()+1) <10 ) {
             strPubDate = strPubDate+"0"+ (myPubDate.getMonth()+1);
          }else{
             strPubDate = strPubDate +(myPubDate.getMonth()+1);
          }   
          */
        //--------
      
      var myLink = item.getElementsByTagName('link')[0].getAttributeNode('href').nodeValue;
      var myTitle = item.getElementsByTagName('title')[0].firstChild.nodeValue;
      imgUrl = item.getElementsByTagName('enclosure')[0].getAttributeNode('url').nodeValue;
      /*
      if(strMIExplorer){
          imgUrl= item.getElementsByTagName('content')[0].firstChild.nodeValue.match(/img src=\"([^"]*)\"/i);
      }else{
          imgUrl= item.getElementsByTagNameNS('http://search.yahoo.com/mrss/', 'thumbnail')[0].getAttributeNode('url').nodeValue;
      } 
      */    
      
      html.push('<div class="divRowWrap">');
      html.push('<div>');        
      
      /*
      if(strMIExplorer){
        html.push('<div class="divImg"><'+ imgUrl + '" class="myImg" /></div>');
      }else{
        html.push('<div class="divImg"><img class="myImg" src="'+ imgUrl + '" /></div>');
      } 
      */    
        html.push('<div class="divImg"><img class="myImg" src="'+ imgUrl + '" /></div>');

      html.push('<div class="ns2-title"><a target="_blank" href="'+myLink+'">'+myTitle+'</a><span class="strDateMonth"> ('+ strPubDate +')</span></div>');
      html.push('</div>');
      html.push('</div>');
    }
    html.push('</div>');    

      html.push('</div></div>');
      content.innerHTML = html.join('');


      if(myStrTitle != ''){document.getElementById("bigTitleID").innerHTML = myStrTitle;}  
          
     }
});//---end fnc feedload

  
} //-- end init

  gadgets.util.registerOnLoadHandler(init); 
  // google.setOnLoadCallback(init);
 
</script>

<div id="content">l...</div>

    
    ]]>
  </Content>
</Module>    