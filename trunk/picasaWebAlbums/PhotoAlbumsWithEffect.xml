<?xml version="1.0" encoding="UTF-8" ?>
<Module>
    <ModulePrefs title="__UP_my_name__" height="500" title_url="http://www.grbasket.gr" description="News |::| Display with effects photos in your blog or website from a picasa web photo-rss " author="LaryT" author_email="terzisla@gmail.com" author_photo="https://lh5.googleusercontent.com/-fV5npoSYg1s/AAAAAAAAAAI/AAAAAAAAAAA/GuOR42Cme4M/s320/terzisla.jpg" author_link="http://www.grbasket.gr" author_aboutme="I am a webdeveloper and software programmer. Programming and scripting takes a huge part of my life routine. Every time I feel the passion to start a new creation. I work very hard with my favorite programming languages." screenshot="https://lh6.googleusercontent.com/-OoLL6ZaQcn8/T4d8WMgecTI/AAAAAAAAjxQ/qSig_Taj7NA/s275/centralTitlesLogo.png" thumbnail="https://lh6.googleusercontent.com/-OoLL6ZaQcn8/T4d8WMgecTI/AAAAAAAAjxQ/qSig_Taj7NA/s125/centralTitlesLogo.png" category="sport" category2="news" > 
    <Require feature="setprefs" />    
  </ModulePrefs>
  <UserPref name="my_name" display_name="Name" default_value="Photoslides Effects Img" />

  <UserPref name="my_StrFeed" display_name="Feed,RSS:" default_value="" />    
  <UserPref name="my_ColorTitle" display_name="Color:" default_value="#BC0202" />
  <UserPref name="my_StrTitle" display_name="Title :" default_value="NEWS" />
  <UserPref name="my_StrHeight" display_name="Image Height:" default_value="300" />  
  <UserPref name="my_PhotoListHeight" display_name="Photo List Height:" default_value="200" />    
  <UserPref name="my_PosoiTitloi" display_name="Number of Title:" default_value="3" />
  <UserPref name="my_BgColorTitle" display_name="Bg Title Color:" default_value="#F8F8F8" />
 
<Content type="html" xmlns:media='http://search.yahoo.com/mrss/'>
<![CDATA[
    
<style> 

body{
  margin:0px;
  background: -webkit-gradient(linear, left top, left bottom, from(gray), to(white));
}

img{
  position:absolute;
  top:50px;
  right:250px;
  padding: 7px;
  border: 1px solid #666666;
  background-color:white;
  -webkit-transition-property: -webkit-transform, top, right;
  -webkit-transition-duration:3s;
}
</style>   
     
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" ></script>      
    <script type="text/javascript">
      google.load("feeds", "1");
    </script>

     <script type="text/javascript">
      var prefs = new gadgets.Prefs();
      
      var myColorTitle = prefs.getString("my_ColorTitle");
      var myStrTitle = prefs.getString("my_StrTitle");
      var myStrHeight = prefs.getString("my_StrHeight");
      var myPhotoListHeight= prefs.getString("my_PhotoListHeight");
      
      var myStrFeed = prefs.getString("my_StrFeed");    
      var myPosoiTitloi = prefs.getString("my_PosoiTitloi"); 

      var myBgColorTitle = prefs.getString("my_BgColorTitle"); 

//-----------------------
function theClick(strUrl){
        // alert(strUrl);
}
//---------------------- 
function init() {
  if(myStrFeed!= ''){ 
    var feed = new google.feeds.Feed(myStrFeed);
  }else{
    var feed = new google.feeds.Feed("https://picasaweb.google.com/data/feed/api/user/105531333335129547555/albumid/5751354468699377921?imgmax=640");
  }
  
  feed.setResultFormat(google.feeds.Feed.XML_FORMAT);
  //---  feed.setResultFormat(google.feeds.Feed.MIXED_FORMAT);
  if(myPosoiTitloi !=''){
    feed.setNumEntries(myPosoiTitloi);
  }else{
    feed.setNumEntries(6);
  }
  
  feed.load( function(result) {
  
  if (!result.error) {
        // Get and clear our content div.
        
        
        var strMIExplorer = false;
        if(navigator.appName =='Microsoft Internet Explorer'){        
            strMIExplorer = true;
        }
    // Get all items returned.
    var items = result.xmlDocument.getElementsByTagName('entry');
    // merikes xrhsimes metablhtes

    var size = items.length;
    var body = document.getElementById('content');
    var rotation = -30;

    
    // Loop through our items and add photos
    for (var i = 0; i < size; i++) {
        var item = items[i];
        
        var photo = document.createElement("img");
        var transform = "-webkit-transform:rotate("+rotation+"deg) scale(1.2)";
        photo.setAttribute("style", transform);
        
        if(strMIExplorer){
            photo.setAttribute("src", item.getElementsByTagName('media:content')[0].getAttributeNode('url').nodeValue);         
        }else{
            photo.setAttribute("src", item.getElementsByTagNameNS('http://search.yahoo.com/mrss/', 'content')[0].getAttributeNode('url').nodeValue);
        }   
        photo.addEventListener('click',petaMakria,false);
        
        body.appendChild(photo);
        
        if (rotation <= 30){
          rotation += 5;
        }else{
          rotation = -30;
        }
        
    }//--- end for-loop

    }//--- end if erorr
    
});//--- end function feedLoaded


} //-- end init

function petaMakria(){
  this.style.webkitTransform = 'rotate(360deg) scale(0.4)';
  this.style.top = 5;
  this.style.right = 5;
}

  gadgets.util.registerOnLoadHandler(init); 
  // google.setOnLoadCallback(init);
 
</script>

<div id="content" onload="self.resizeTo(800,800);"></div>

    
    ]]>
  </Content>
</Module>    